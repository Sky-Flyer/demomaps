<!DOCTYPE html>
<html lang="de">
    <head>
        <meta charset="utf-8">
	    <title>Primzahlen</title>
		<meta name="viewport" content="width=device-width, initial-scale=0.75, maximum-scale=4.0, user-scalable=yes" />
		<link href="css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
		<!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">-->
		<style>
			td {min-width: 3em;padding-top: 2px; padding-bottom: 2px; padding-left: 0px; padding-right: 0px;}
			.primeNumCell {background-color: lightskyblue;text-align: center}
			.nonPrimeNumCell {text-align: center}
        </style>
		<script>
		"use strict";
		var primeNumbers = [];
		var maxValidBound = 10000;
		
        function isPrimeSimple(n){
			if(Number.isNaN(n) || n<1 ) {return false;}
			var i;
            for(i=2;i<n;i++){
                if(n%i==0){
                    return false;
                }
            }
            return true;
        }
		function isPrimeOpt(n){
			if(Number.isNaN(n) || n<1 ) {return false;}
			var i;
            for(i=2;i<n;i++){
                if(n%i==0){
                    return false;
                }
            }
			primeNumbers.push(n);
            return true;			
		}
		
        function engage(){
			//document.getElementById('outDiv').innerHTML ='<img src="ajax-loader.gif" alt="activity indicator">';
			var maxBoundVal = document.getElementById('maxBound').value;
			var output = "<table class='table-bordered'><tr>";
			var j;
			if(maxBoundVal>maxValidBound){
				document.getElementById('outDiv').innerHTML = "Zahl ist zu groß! Maximal "+maxValidBound+" erlaubt!";
				document.getElementById('maxBound').value = maxValidBound;
				return;
			}
			if(maxBoundVal<1){
				document.getElementById('outDiv').innerHTML = "Zahl ist zu klein!";
				document.getElementById('maxBound').value = 100;
				return;
			}
            for(j=1;j<=maxBoundVal;j++){
                if(isPrimeSimple(j)){
					output+="<td class='primeNumCell'>";
                }
				else{
					output+="<td class='nonPrimeNumCell'>";
				}
				output+=j+"</td>"
                if(j%10==0){
                    output+="</tr><tr>";
                }
            }
            output+="</tr></table>";
			document.getElementById('outDiv').innerHTML = output;
        }
		
		function clearDiv(){
			document.getElementById('outDiv').innerHTML = "";
		}
		</script>
    </head>
	<body onload="">
		<div>
			<div class="jumbotron"> 
				<div class="container text-left">
				<h1>Primzahlenrechner</h1>
				</div>
			
				<div class="container">
					Berechne Primzahlen bis:
					<input id="maxBound" title="Bitte die größt mögliche Zahl eingeben!" 
						value="100" type="number" min="1" max="10000" step="50" 
						x-moz-errormessage="Falscher Wertebereich!" required>
					<button id="engage" class="btn btn-primary" onclick="engage()" aria-label="Left Align">
						<span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
					</button>
					<button id="clear" class="btn btn-warning" onclick="clearDiv()" aria-label="Left Align">
						<span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
					</button>
				</div>
			</div>
			<div class="container text-left">
				<div id="outDiv"></div>
			</div>
		</div>
    </body>
</html>